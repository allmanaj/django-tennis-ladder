{% extends 'base.html' %}
{% block container %}


            <!-- Main hero unit for a primary marketing message or call to action -->
            <div class="hero-unit">
                <h1>Hello, Highgate!</h1>
                <p>This is a website that tracks the current ladders progress and keeps a history of previous ladders,
                    I try to keep current ladder data as up to date as possible and have lots of ideas in the pipeline.</p>
                <p><a class="btn btn-primary btn-large" href="{% url 'ladder:season' current_season.slug%}">View Current Season &raquo;</a></p>
            </div>

            <!-- Example row of columns -->
            <div class="row">
                <div class="span6">
                    <h2>{{ current_season }} Stats</h2>
                    <table class="table">
                            <tr><td>Total Divisions</td><td> {{ current_season.ladder_set.all.count }}</td></tr>
                            <tr><td>Total Players</td><td> {{ current_season.get_stats.player_count }}</td></tr>
                            <tr><td>Total Matches in Season</td><td> {{ current_season.get_stats.total_games_count|floatformat:"0" }}</td></tr>
                            <tr><td>Total Matches Played</td><td> {{ current_season.get_stats.results_count }}</td></tr>
                            <tr><td>Percentage Matches Played</td><td> {{ current_season.get_stats.percentage_played|floatformat:"2" }}%</td></tr>
                    </table>
                </div>
                <div class="span6">
                    <h2>Current Leaders</h2>
                    <table class="table table-condensed">
                    <th>Div</th>
                    <th>Player</th>
                    <th>Total</th>
                    {% for division, leader in current_season.get_stats.current_leaders %}
                        <tr>
                            <td>{{ division }}</td><td>{{ leader.player }}</td><td>{{ leader.total }}</td>
                        </tr>
                    {% endfor %}
                    </table>
                </div>
            </div>
{% endblock %}
